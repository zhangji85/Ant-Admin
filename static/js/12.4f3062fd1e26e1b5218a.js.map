{"version":3,"sources":["webpack:///src/views/System/Login.vue","webpack:///./src/views/System/Login.vue?c4a5","webpack:///./src/views/System/Login.vue"],"names":["Login","name","components","AuthBase","data","wrapperCol","span","active","accform","account","password","accrules","required","message","trigger","pform","phone","captcha","prules","pattern","timer","disabled","auth_timer","loading","mounted","methods","onLogin","_this","this","$refs","validate","valid","console","log","setTimeout","get_captcha","_this2","ruleForm2","validateField","count_down","toRegister","$router","push","path","_this3","setInterval","clearInterval","tabChange","activeKey","resetFields","System_Login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","on","change","model","value","callback","$$v","expression","key","forceRender","tab","ref","rules","wrapper-col","prop","placeholder","blur","onFieldBlur","$set","slot","type","_v","gutter","block","click","_s","staticStyle","width","margin-bottom","href","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.4f3062fd1e26e1b5218a.js","sourcesContent":["<template>\n  <div class=\"login\">\n    <auth-base>\n      <a-tabs\n        size=\"large\"\n        v-model=\"active\"\n        @change=\"tabChange\"\n        class=\"login-tabs\"\n      >\n        <a-tab-pane forceRender key=\"accpwdForm\" tab=\"账号密码登录\">\n          <a-form-model\n            ref=\"accpwdForm\"\n            :model=\"accform\"\n            :rules=\"accrules\"\n            :wrapper-col=\"wrapperCol\"\n          >\n            <a-form-model-item ref=\"account\" prop=\"account\">\n              <a-input\n                v-model=\"accform.account\"\n                size=\"large\"\n                placeholder=\"请输入账号或邮箱地址\"\n                @blur=\"\n                  () => {\n                    $refs.account.onFieldBlur();\n                  }\n                \"\n              >\n                <a-icon slot=\"prefix\" type=\"user\" />\n              </a-input>\n            </a-form-model-item>\n            <a-form-model-item ref=\"password\" prop=\"password\">\n              <a-input-password\n                v-model=\"accform.password\"\n                size=\"large\"\n                placeholder=\"请输入密码\"\n                @blur=\"\n                  () => {\n                    $refs.password.onFieldBlur();\n                  }\n                \"\n              >\n                <a-icon slot=\"prefix\" type=\"lock\" />\n              </a-input-password>\n            </a-form-model-item>\n          </a-form-model>\n        </a-tab-pane>\n        <a-tab-pane forceRender key=\"phoneForm\" tab=\"手机号登录\">\n          <a-form-model\n            ref=\"phoneForm\"\n            :model=\"pform\"\n            :rules=\"prules\"\n            :wrapper-col=\"wrapperCol\"\n          >\n            <a-form-model-item ref=\"phone\" prop=\"phone\">\n              <a-input\n                v-model=\"pform.phone\"\n                size=\"large\"\n                placeholder=\"手机号\"\n                @blur=\"\n                  () => {\n                    $refs.phone.onFieldBlur();\n                  }\n                \"\n              >\n                <a-icon slot=\"prefix\" type=\"mobile\" />\n              </a-input>\n            </a-form-model-item>\n            <a-form-model-item ref=\"captcha\" prop=\"captcha\">\n              <a-row :gutter=\"8\">\n                <a-col :span=\"16\">\n                  <a-input\n                    v-model=\"pform.captcha\"\n                    placeholder=\"验证码\"\n                    size=\"large\"\n                    @blur=\"\n                      () => {\n                        $refs.captcha.onFieldBlur();\n                      }\n                    \"\n                  >\n                    <a-icon slot=\"prefix\" type=\"mail\" />\n                  </a-input>\n                </a-col>\n                <a-col :span=\"8\">\n                  <a-button\n                    block\n                    size=\"large\"\n                    @click=\"get_captcha\"\n                    :disabled=\"disabled\"\n                  >\n                    <span v-if=\"disabled\">{{ timer }}&nbsp;s</span>\n                    <span v-else>获取验证码</span>\n                  </a-button>\n                </a-col>\n              </a-row>\n            </a-form-model-item>\n          </a-form-model>\n        </a-tab-pane>\n      </a-tabs>\n      <a-button\n        type=\"primary\"\n        style=\"width:100%;margin-bottom:10px\"\n        size=\"large\"\n        :loading=\"loading\"\n        @click=\"onLogin\"\n        >登录</a-button\n      >\n      <a @click=\"toRegister\">还没有账号？立即注册</a>\n\n      <a href class=\"fr\">忘记密码</a>\n    </auth-base>\n  </div>\n</template>\n\n<script>\nimport AuthBase from \"@/views/System/AuthBase\";\nexport default {\n  name: \"Login\",\n  components: {\n    AuthBase\n  },\n  data() {\n    return {\n      wrapperCol: { span: 24 },\n      active: \"accpwdForm\",\n      // 账号密码登录\n      accform: {\n        account: \"\",\n        password: \"\"\n      },\n      accrules: {\n        account: [\n          {\n            required: true,\n            message: \"请输入账号或邮箱地址\",\n            trigger: \"blur\"\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: \"blur\"\n          }\n        ]\n      },\n      // 手机号登录\n      pform: {\n        phone: \"\",\n        captcha: \"\"\n      },\n      prules: {\n        phone: [\n          {\n            required: true,\n            message: \"请输入手机号\",\n            trigger: \"blur\"\n          },\n          {\n            pattern: /^1[3|4|5|7|8][0-9]\\d{8}$/,\n            message: \"请输入正确的手机号\",\n            trigger: \"blur\"\n          }\n        ],\n        captcha: [\n          {\n            required: true,\n            message: \"请输入验证码\",\n            trigger: \"blur\"\n          }\n        ]\n      },\n      timer: 60,\n      disabled: false,\n      auth_timer: null,\n      loading: false\n    };\n  },\n  mounted() {},\n  methods: {\n    onLogin() {\n      this.$refs[this.active].validate(valid => {\n        if (valid) {\n          this.loading = true;\n          setTimeout(() => {\n            this.loading = false;\n          }, 3000);\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    get_captcha() {\n      this.$refs.ruleForm2.validateField([\"phone\"], valid => {\n        if (!valid) {\n          this.count_down();\n        }\n      });\n    },\n    toRegister() {\n      this.$router.push({\n        path: \"/register\"\n      });\n    },\n    count_down() {\n      this.disabled = true; //点击button改变v-show的状态\n      this.auth_timer = setInterval(() => {\n        //定时器设置每秒递减\n        this.timer--; //递减时间\n        if (this.timer <= 0) {\n          this.disabled = false; //60s时间结束还原v-show状态并清除定时器\n          clearInterval(this.auth_timer);\n          this.timer = 60;\n        }\n      }, 1000);\n    },\n    tabChange(activeKey) {\n      this.$refs[activeKey].resetFields();\n    }\n  }\n};\n</script>\n<style scoped>\n.login-tabs /deep/ .ant-tabs-top-bar,\n.ant-tabs-nav-scroll {\n  border-bottom: unset;\n  text-align: center;\n}\n.fr {\n  float: right;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/System/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('auth-base',[_c('a-tabs',{staticClass:\"login-tabs\",attrs:{\"size\":\"large\"},on:{\"change\":_vm.tabChange},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('a-tab-pane',{key:\"accpwdForm\",attrs:{\"forceRender\":\"\",\"tab\":\"账号密码登录\"}},[_c('a-form-model',{ref:\"accpwdForm\",attrs:{\"model\":_vm.accform,\"rules\":_vm.accrules,\"wrapper-col\":_vm.wrapperCol}},[_c('a-form-model-item',{ref:\"account\",attrs:{\"prop\":\"account\"}},[_c('a-input',{attrs:{\"size\":\"large\",\"placeholder\":\"请输入账号或邮箱地址\"},on:{\"blur\":function () {\n                  _vm.$refs.account.onFieldBlur();\n                }},model:{value:(_vm.accform.account),callback:function ($$v) {_vm.$set(_vm.accform, \"account\", $$v)},expression:\"accform.account\"}},[_c('a-icon',{attrs:{\"slot\":\"prefix\",\"type\":\"user\"},slot:\"prefix\"})],1)],1),_vm._v(\" \"),_c('a-form-model-item',{ref:\"password\",attrs:{\"prop\":\"password\"}},[_c('a-input-password',{attrs:{\"size\":\"large\",\"placeholder\":\"请输入密码\"},on:{\"blur\":function () {\n                  _vm.$refs.password.onFieldBlur();\n                }},model:{value:(_vm.accform.password),callback:function ($$v) {_vm.$set(_vm.accform, \"password\", $$v)},expression:\"accform.password\"}},[_c('a-icon',{attrs:{\"slot\":\"prefix\",\"type\":\"lock\"},slot:\"prefix\"})],1)],1)],1)],1),_vm._v(\" \"),_c('a-tab-pane',{key:\"phoneForm\",attrs:{\"forceRender\":\"\",\"tab\":\"手机号登录\"}},[_c('a-form-model',{ref:\"phoneForm\",attrs:{\"model\":_vm.pform,\"rules\":_vm.prules,\"wrapper-col\":_vm.wrapperCol}},[_c('a-form-model-item',{ref:\"phone\",attrs:{\"prop\":\"phone\"}},[_c('a-input',{attrs:{\"size\":\"large\",\"placeholder\":\"手机号\"},on:{\"blur\":function () {\n                  _vm.$refs.phone.onFieldBlur();\n                }},model:{value:(_vm.pform.phone),callback:function ($$v) {_vm.$set(_vm.pform, \"phone\", $$v)},expression:\"pform.phone\"}},[_c('a-icon',{attrs:{\"slot\":\"prefix\",\"type\":\"mobile\"},slot:\"prefix\"})],1)],1),_vm._v(\" \"),_c('a-form-model-item',{ref:\"captcha\",attrs:{\"prop\":\"captcha\"}},[_c('a-row',{attrs:{\"gutter\":8}},[_c('a-col',{attrs:{\"span\":16}},[_c('a-input',{attrs:{\"placeholder\":\"验证码\",\"size\":\"large\"},on:{\"blur\":function () {\n                      _vm.$refs.captcha.onFieldBlur();\n                    }},model:{value:(_vm.pform.captcha),callback:function ($$v) {_vm.$set(_vm.pform, \"captcha\", $$v)},expression:\"pform.captcha\"}},[_c('a-icon',{attrs:{\"slot\":\"prefix\",\"type\":\"mail\"},slot:\"prefix\"})],1)],1),_vm._v(\" \"),_c('a-col',{attrs:{\"span\":8}},[_c('a-button',{attrs:{\"block\":\"\",\"size\":\"large\",\"disabled\":_vm.disabled},on:{\"click\":_vm.get_captcha}},[(_vm.disabled)?_c('span',[_vm._v(_vm._s(_vm.timer)+\" s\")]):_c('span',[_vm._v(\"获取验证码\")])])],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('a-button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"large\",\"loading\":_vm.loading},on:{\"click\":_vm.onLogin}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('a',{on:{\"click\":_vm.toRegister}},[_vm._v(\"还没有账号？立即注册\")]),_vm._v(\" \"),_c('a',{staticClass:\"fr\",attrs:{\"href\":\"\"}},[_vm._v(\"忘记密码\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a530b44\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/System/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a530b44\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a530b44\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1a530b44\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/System/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}